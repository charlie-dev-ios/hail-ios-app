# アーキテクチャ設計方針

## 1. 本ドキュメントの目的
本ドキュメントはnatura-ios-appプロジェクトの「設計方針」「アーキテクチャ」「モジュール構成」「設計ドキュメント運用」など、システム全体の構造・設計思想・開発体制の共通理解を目的とします。

---

## 2. アーキテクチャ概要
- TCA（The Composable Architecture）を採用し、状態管理・画面遷移・副作用処理を一元的に管理。
- マルチモジュール構成（Feature単位・共通部品単位）で責務分離・再利用性向上。
- 各FeatureはReducer/State/Action/Viewの責務を明確に分離。
- 共通UIやAPIクライアント等は専用モジュールとして切り出し、依存関係を最小化。

## 3. モジュール構成
- Modules/
    - RootFeature/（アプリ全体のルート・タブ管理）
    - DashboardFeature/（ダッシュボード機能）
    - CommonUI/（共通UI部品）

## 4. 設計ドキュメント運用
- 設計ドキュメントは「現状の実装・構成」を正確に反映。
- 将来の予定や仮の記述は避け、常に最新状態を保つ。
- 追加・変更時は日付・バージョンを明記し、履歴を残す。
- 設計・仕様・運用ルールの変更時は必ず本ドキュメントも更新。
- モジュールの追加・削除・変更時は、必ず関連ドキュメントも更新すること。

## 5. 設計ドキュメントの書き方
- ディレクトリ単位・モジュール単位で記載し、ファイル名は原則不要。
- 具体的な記述例やテンプレートパスを明示。
- コード例は可読性を重視し、適度な改行・インデントを行う。
- 設計思想・責務分担・運用ルールなど、開発体制の共通理解を重視。

---

## 参考
- コーディングガイドライン: `Documentation/開発/コーディングガイドライン.md`
- テンプレート: `scripts/natura-templates/Feature.xctemplate/___VARIABLE_featureName___.swift`
- TCA公式: https://github.com/pointfreeco/swift-composable-architecture
